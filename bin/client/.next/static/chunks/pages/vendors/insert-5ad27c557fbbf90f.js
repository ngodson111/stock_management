(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{8515:function(e,t,n){"use strict";n.d(t,{Z:function(){return hotkeys}});let o="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function addEvent(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),n)}function removeEvent(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on".concat(t),n)}function getMods(e,t){let n=t.slice(0,t.length-1);for(let t=0;t<n.length;t++)n[t]=e[n[t].toLowerCase()];return n}function getKeys(e){"string"!=typeof e&&(e=""),e=e.replace(/\s/g,"");let t=e.split(","),n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}let r={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":o?173:189,"=":o?61:187,";":o?59:186,"'":222,"[":219,"]":221,"\\":220},l={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},i={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},s={16:!1,18:!1,17:!1,91:!1},a={};for(let e=1;e<20;e++)r["f".concat(e)]=111+e;let c=[],d=null,u="all",f=new Map,code=e=>r[e.toLowerCase()]||l[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),getKey=e=>Object.keys(r).find(t=>r[t]===e),getModifier=e=>Object.keys(l).find(t=>l[t]===e);function setScope(e){u=e||"all"}function getScope(){return u||"all"}function unbind(e){if(void 0===e)Object.keys(a).forEach(e=>{Array.isArray(a[e])&&a[e].forEach(e=>eachUnbind(e)),delete a[e]}),removeKeyEvent(null);else if(Array.isArray(e))e.forEach(e=>{e.key&&eachUnbind(e)});else if("object"==typeof e)e.key&&eachUnbind(e);else if("string"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];let[r,l]=n;"function"==typeof r&&(l=r,r=""),eachUnbind({key:e,scope:r,method:l,splitKey:"+"})}}let eachUnbind=e=>{let{key:t,scope:n,method:o,splitKey:r="+"}=e,i=getKeys(t);i.forEach(e=>{let t=e.split(r),i=t.length,s=t[i-1],c="*"===s?"*":code(s);if(!a[c])return;n||(n=getScope());let d=i>1?getMods(l,t):[],u=[];a[c]=a[c].filter(e=>{let t=!o||e.method===o,r=t&&e.scope===n&&function(e,t){let n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,r=!0;for(let e=0;e<n.length;e++)-1===o.indexOf(n[e])&&(r=!1);return r}(e.mods,d);return r&&u.push(e.element),!r}),u.forEach(e=>removeKeyEvent(e))})};function eventHandler(e,t,n,o){let r;if(t.element===o&&(t.scope===n||"all"===t.scope)){for(let e in r=t.mods.length>0,s)Object.prototype.hasOwnProperty.call(s,e)&&(!s[e]&&t.mods.indexOf(+e)>-1||s[e]&&-1===t.mods.indexOf(+e))&&(r=!1);(0!==t.mods.length||s[16]||s[18]||s[17]||s[91])&&!r&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(c),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function dispatch(e,t){let n=a["*"],o=e.keyCode||e.which||e.charCode;if(!hotkeys.filter.call(this,e))return;if((93===o||224===o)&&(o=91),-1===c.indexOf(o)&&229!==o&&c.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(t=>{let n=i[t];e[t]&&-1===c.indexOf(n)?c.push(n):!e[t]&&c.indexOf(n)>-1?c.splice(c.indexOf(n),1):"metaKey"===t&&e[t]&&3===c.length&&!(e.ctrlKey||e.shiftKey||e.altKey)&&(c=c.slice(c.indexOf(n)))}),o in s){for(let e in s[o]=!0,l)l[e]===o&&(hotkeys[e]=!0);if(!n)return}for(let t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=e[i[t]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===c.indexOf(17)&&c.push(17),-1===c.indexOf(18)&&c.push(18),s[17]=!0,s[18]=!0);let r=getScope();if(n)for(let o=0;o<n.length;o++)n[o].scope===r&&("keydown"===e.type&&n[o].keydown||"keyup"===e.type&&n[o].keyup)&&eventHandler(e,n[o],r,t);if(!(o in a))return;let d=a[o],u=d.length;for(let n=0;n<u;n++)if(("keydown"===e.type&&d[n].keydown||"keyup"===e.type&&d[n].keyup)&&d[n].key){let o=d[n],{splitKey:l}=o,i=o.key.split(l),s=[];for(let e=0;e<i.length;e++)s.push(code(i[e]));s.sort().join("")===c.sort().join("")&&eventHandler(e,o,r,t)}}function hotkeys(e,t,n){c=[];let o=getKeys(e),r=[],i="all",u=document,p=0,h=!1,y=!0,m="+",g=!1,v=!1;for(void 0===n&&"function"==typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(u=t.element),t.keyup&&(h=t.keyup),void 0!==t.keydown&&(y=t.keydown),void 0!==t.capture&&(g=t.capture),"string"==typeof t.splitKey&&(m=t.splitKey),!0===t.single&&(v=!0)),"string"==typeof t&&(i=t),v&&unbind(e,i);p<o.length;p++)e=o[p].split(m),r=[],e.length>1&&(r=getMods(l,e)),(e="*"===(e=e[e.length-1])?"*":code(e))in a||(a[e]=[]),a[e].push({keyup:h,keydown:y,scope:i,mods:r,shortcut:o[p],method:n,key:o[p],splitKey:m,element:u});if(void 0!==u&&window){if(!f.has(u)){let keydownListener=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return dispatch(e,u)},keyupListenr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;dispatch(e,u),function(e){let t=e.keyCode||e.which||e.charCode,n=c.indexOf(t);if(n>=0&&c.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&c.splice(0,c.length),(93===t||224===t)&&(t=91),t in s)for(let e in s[t]=!1,l)l[e]===t&&(hotkeys[e]=!1)}(e)};f.set(u,{keydownListener,keyupListenr,capture:g}),addEvent(u,"keydown",keydownListener,g),addEvent(u,"keyup",keyupListenr,g)}if(!d){let listener=()=>{c=[]};d={listener,capture:g},addEvent(window,"focus",listener,g)}}}function removeKeyEvent(e){let t=Object.values(a).flat(),n=t.findIndex(t=>{let{element:n}=t;return n===e});if(n<0){let{keydownListener:t,keyupListenr:n,capture:o}=f.get(e)||{};t&&n&&(removeEvent(e,"keyup",n,o),removeEvent(e,"keydown",t,o),f.delete(e))}if(t.length<=0||f.size<=0){let e=Object.keys(f);if(e.forEach(e=>{let{keydownListener:t,keyupListenr:n,capture:o}=f.get(e)||{};t&&n&&(removeEvent(e,"keyup",n,o),removeEvent(e,"keydown",t,o),f.delete(e))}),f.clear(),Object.keys(a).forEach(e=>delete a[e]),d){let{listener:e,capture:t}=d;removeEvent(window,"focus",e,t),d=null}}}let p={getPressedKeyString:function(){return c.map(e=>getKey(e)||getModifier(e)||String.fromCharCode(e))},setScope,getScope,deleteScope:function(e,t){let n,o;for(let t in e||(e=getScope()),a)if(Object.prototype.hasOwnProperty.call(a,t))for(o=0,n=a[t];o<n.length;)if(n[o].scope===e){let e=n.splice(o,1);e.forEach(e=>{let{element:t}=e;return removeKeyEvent(t)})}else o++;getScope()===e&&setScope(t||"all")},getPressedKeyCodes:function(){return c.slice(0)},getAllKeyCodes:function(){let e=[];return Object.keys(a).forEach(t=>{a[t].forEach(t=>{let{key:n,scope:o,mods:r,shortcut:l}=t;e.push({scope:o,shortcut:l,mods:r,keys:n.split("+").map(e=>code(e))})})}),e},isPressed:function(e){return"string"==typeof e&&(e=code(e)),-1!==c.indexOf(e)},filter:function(e){let t=e.target||e.srcElement,{tagName:n}=t,o=!0,r="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(r||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(o=!1),o},trigger:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(a).forEach(n=>{let o=a[n].filter(n=>n.scope===t&&n.shortcut===e);o.forEach(e=>{e&&e.method&&e.method()})})},unbind,keyMap:r,modifier:l,modifierMap:i};for(let e in p)Object.prototype.hasOwnProperty.call(p,e)&&(hotkeys[e]=p[e]);if("undefined"!=typeof window){let e=window.hotkeys;hotkeys.noConflict=t=>(t&&window.hotkeys===hotkeys&&(window.hotkeys=e),hotkeys),window.hotkeys=hotkeys}},4901:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vendors/insert",function(){return n(8580)}])},2006:function(e,t,n){"use strict";n.d(t,{Z:function(){return useForm}});var o=n(7115),r=n(7784),l=n(7294);function useForm(e){let{schema:t,data:n}=e,[i,s]=(0,l.useState)(1),[a,c]=(0,l.useState)({}),[d,u]=(0,l.useState)({});(0,l.useEffect)(()=>{n&&c(n)},[n]);let handleValidation=e=>{try{var n;let l=(0,r.Fv)(e,t);if(console.log(l),null===(n=l.errors)||void 0===n?void 0:n.hasError){(0,o.Jc)("Please verify indicated fields"),u(l.errors.error);return}return l.data}catch(e){(0,o.Jc)("Something went wrong with validation")}},f=(0,l.useCallback)(e=>{{let t=e.target.name,n=e.target.type,o=e.target.required,l=(0,r.Hc)(n,e),i=null!=l&&""!==l;c(e=>({...e,[t]:i?l:void 0})),o&&i&&u(e=>({...e,[t]:""}))}},[]);return{state:a,error:d,formKey:i,setState:c,setError:u,setFormKey:s,handleInput:f,handleValidation,handleSubmit:e=>{let t=handleValidation(a);t&&e(t)},resetForm:e=>{c(null!=n?n:{}),u({}),s(e=>e+1),e&&(0,o.Qm)(e)}}}},8580:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return InsertVendor}});var o=n(5893),r=n(2006),l=n(7115),i=n(5506),s=n(8463),a=n(7679),c=n(7945),d=n(3104),u=n(2361),f=n(9091),p=n(8515),h=n(7294);let setupVendorInsertHotkeys=(e,t)=>{p.Z.setScope("vendorInsert"),Object.entries({"ctrl+esc":e,"ctrl+enter":t}).forEach(e=>{let[t,n]=e;(0,p.Z)(t,"vendorInsert",(e,t)=>{e.preventDefault(),n()})})};function InsertVendor(e){let{onClose:t,scope:n}=e,y=(0,i.TL)(),[m,g]=(0,h.useState)(!1),{error:v,state:k,formKey:b,handleInput:x,handleSubmit:w,resetForm:j}=(0,r.Z)({schema:a.mK});(0,h.useEffect)(()=>(setupVendorInsertHotkeys(t,()=>g(!0)),()=>{p.Z.deleteScope("vendorInsert"),n&&p.Z.setScope(n)}),[]);let E=(0,h.useCallback)(()=>{g(e=>!e)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(f.Z,{onClose:t,children:(0,o.jsxs)("div",{className:"vendor-insert",children:[(0,o.jsx)("h2",{className:"vendor-insert--heading",children:"Insert Vendor"}),(0,o.jsx)("div",{className:"vendor-insert--form",children:(0,o.jsxs)("div",{className:"vendor-insert--form",children:[(0,o.jsx)("h4",{className:"vendor-insert--heading",children:"Basic Information:"}),(0,o.jsx)(u.Z,{id:"name",isRequired:!0,label:"Name",placeholder:"eg. Naran Suppliers..",name:"name",onChange:x,defaultValue:k.name,error:v.name,autoFocus:!0}),(0,o.jsx)(u.Z,{id:"address",isRequired:!0,label:"Address",placeholder:"eg. Kathmandu, Nepal..",name:"address",onChange:x,defaultValue:k.address,error:v.address}),(0,o.jsx)(u.Z,{id:"contact",isRequired:!0,label:"Contact",placeholder:"eg. 98XXXXXXXX or example@..",name:"contact",onChange:x,defaultValue:k.contact,error:v.contact})]})},b),(0,o.jsx)("div",{className:"vendor-insert--actions",children:(0,o.jsx)(c.Z,{label:"Save",type:"primary",onClick:E,style:{minWidth:"13rem"}})})]})}),m?(0,o.jsx)(d.Z,{cancel:E,confirm:()=>{w(e=>{y((0,s.G1)({data:e,callback:()=>{E(),j(),t(),(0,l.Qm)("Vendor inserted")}}))})},title:"Confirm Insert",message:"Are you sure you want to add this item to list?"}):null]})}},3232:function(e,t,n){"use strict";n.d(t,{G5:function(){return stringField},v3:function(){return positiveNumberString}});var o=n(1604);let positiveNumberString=e=>o.z.string().refine(e=>!isNaN(parseFloat(e)),{message:"".concat(e," must be a positive number.")}),stringField=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return o.z.string({required_error:"".concat(e," is required"),invalid_type_error:"Provide valid type"}).min(t,{message:"".concat(e," is too short")}).refine(e=>!n||e.length<=n,"".concat(e," is too long"))};o.z.string({invalid_type_error:"Provide valid type"}).optional().nullable(),o.z.number({invalid_type_error:"Provide valid type"}).optional().nullable(),o.z.boolean({invalid_type_error:"Provide valid type"}).optional().nullable(),o.z.string().refine(e=>!e||!isNaN(+e),{message:"Field must be a positive integer."}).optional()},7679:function(e,t,n){"use strict";n.d(t,{LE:function(){return l},mK:function(){return i}});var o=n(1604),r=n(3232);let l=o.z.object({id:(0,r.G5)("ID"),name:(0,r.G5)("Name"),address:(0,r.G5)("Address"),contact:(0,r.G5)("Contact"),inserted:(0,r.G5)("Inserted"),updated:(0,r.G5)("Updated")}),i=l.omit({id:!0,inserted:!0,updated:!0});l.pick({id:!0})},7945:function(e,t,n){"use strict";n.d(t,{Z:function(){return UIButton}});var o=n(5893),r=n(1664),l=n.n(r);function UIButton(e){let{href:t,id:n,label:r,onClick:i,style:s,type:a,className:c,target:d,tabIndex:u}=e;return t?(0,o.jsx)(l(),{id:n,href:t,className:"btn btn-".concat(a||"link"),style:s,target:d,children:r}):(0,o.jsx)("button",{id:n,className:"btn btn-".concat(a||"plain"," ").concat(c||""),style:s,onClick:i,tabIndex:u,children:r})}},3104:function(e,t,n){"use strict";n.d(t,{Z:function(){return UIDialogBox}});var o=n(5893),r=n(5506),l=n(7945),i=n(9091),s=n(8515),a=n(7294);let setupDialogueHotKeys=(e,t)=>{s.Z.setScope("dialogue"),Object.entries({"ctrl+enter":e,"ctrl+esc":t}).forEach(e=>{let[t,n]=e;(0,s.Z)(t,"dialogue",(e,t)=>{console.log(e),e.preventDefault(),n()})})};function UIDialogBox(e){let{cancel:t,confirm:n,message:c,title:d,cancelName:u,confirmName:f,scope:p}=e;return(0,r.TL)(),(0,r.CG)(e=>e.system),(0,a.useEffect)(()=>(setupDialogueHotKeys(n,t),()=>{s.Z.deleteScope("dialogue"),p&&s.Z.setScope(p)}),[]),(0,o.jsx)(i.Z,{onClose:t,showAnimation:!0,children:(0,o.jsxs)("div",{className:"dialogbox",children:[(0,o.jsx)("h2",{className:"dialogbox-heading",children:d}),(0,o.jsx)("p",{className:"dialogbox-message",children:c}),(0,o.jsxs)("div",{className:"dialogbox-actions",children:[(0,o.jsx)(l.Z,{label:null!=f?f:"Confirm",type:"primary",className:"dialogbox-actions--btn",onClick:n}),(0,o.jsx)(l.Z,{label:null!=u?u:"Cancel",type:"error",className:"dialogbox-actions--btn cancel duotone",onClick:t})]})]})})}},2361:function(e,t,n){"use strict";n.d(t,{Z:function(){return UIInput}});var o=n(5893),r=n(7294);function UIInput(e){let{id:t,label:n,name:l,isRequired:i,placeholder:s,type:a,style:c,onClick:d,onChange:u,onBlur:f,onFocus:p,error:h,defaultValue:y,instruction:m,disabled:g,autoComplete:v,max:k,min:b,autoFocus:x,tabIndex:w}=e,[j,E]=(0,r.useState)(!1);return(0,o.jsxs)("div",{className:"inputfield",style:c,children:[n?(0,o.jsxs)("label",{htmlFor:t||"",className:"inputfield-label",children:[n," ",i?"*":""]}):null,(0,o.jsx)("input",{type:"password"===a?j?"text":"password":a,id:t,name:l,className:"inputfield-input ".concat(h?"error":""),placeholder:s,onClick:d,onChange:u,onBlur:e=>{e.target.blur(),null==f||f(e)},onFocus:p,defaultValue:null!=y?y:"",required:i,disabled:g,autoComplete:null!=v?v:l,min:b,max:k,autoFocus:x,tabIndex:w}),h?(0,o.jsx)("span",{className:"inputfield-error",children:h}):null,"password"===a?(0,o.jsx)("i",{className:"fa-regular fa-eye".concat(j?"":"-slash"),onClick:()=>E(e=>!e),style:{bottom:n&&!h?"35%":!n&&h?"65%":"50%"}}):null,m?(0,o.jsx)("p",{className:"inputfield-instruction",children:m}):null]})}},9091:function(e,t,n){"use strict";n.d(t,{Z:function(){return UIModal}});var o=n(5893),r=n(7294);function UIModal(e){let{children:t,onClose:n,style:l,showAnimation:i}=e,s=(0,r.useRef)(null);return(0,o.jsxs)("div",{className:"uimodal",children:[(0,o.jsx)("div",{className:"uimodal-overlay"}),(0,o.jsxs)("div",{className:"uimodal-content",style:l,ref:s,children:[(0,o.jsx)("div",{className:"uimodal-content--cross",onClick:()=>{var e;if(!i)return null==n?void 0:n();null===(e=s.current)||void 0===e||e.classList.add("hide"),setTimeout(()=>null==n?void 0:n(),700)},children:(0,o.jsx)("i",{className:"fa-regular fa-times"})}),t]})]})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=4901)}),_N_E=e.O()}]);
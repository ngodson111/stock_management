(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39],{4264:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/members/insert",function(){return t(7074)}])},566:function(e,n,t){"use strict";t.d(n,{Z:function(){return useForm}});var i=t(9638),r=t(1044),l=t(2784);function useForm(e){let{schema:n,data:t}=e,[a,s]=(0,l.useState)(1),[o,d]=(0,l.useState)({}),[u,c]=(0,l.useState)({});(0,l.useEffect)(()=>{t&&d(t)},[t]);let handleValidation=e=>{try{var t;let l=(0,r.Fv)(e,n);if(console.log(l),null===(t=l.errors)||void 0===t?void 0:t.hasError){(0,i.Jc)("Please verify indicated fields"),c(l.errors.error);return}return l.data}catch(e){(0,i.Jc)("Something went wrong with validation")}},m=(0,l.useCallback)(e=>{{let n=e.target.name,t=e.target.type,i=e.target.required,l=(0,r.Hc)(t,e),a=null!=l&&""!==l;d(e=>({...e,[n]:a?l:void 0})),i&&a&&c(e=>({...e,[n]:""}))}},[]);return{state:o,error:u,formKey:a,setState:d,setError:c,setFormKey:s,handleInput:m,handleValidation,handleSubmit:e=>{let n=handleValidation(o);n&&e(n)},resetForm:e=>{d(null!=t?t:{}),c({}),s(e=>e+1),e&&(0,i.Qm)(e)}}}},7074:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return InsertMember}});var i=t(2322),r=t(566),l=t(9638),a=t(8039),s=t(1064),o=t(7613),d=t(590),u=t(725),c=t(570),m=t(1383),h=t(2784);function InsertMember(e){let{onClose:n}=e,t=(0,a.TL)(),[f,p]=(0,h.useState)(!1),{error:b,state:v,formKey:N,handleInput:g,handleSubmit:x,resetForm:j}=(0,r.Z)({schema:o.pN}),y=(0,h.useCallback)(()=>{p(e=>!e)},[]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z,{onClose:n,children:(0,i.jsxs)("div",{className:"member-insert",children:[(0,i.jsx)("h2",{className:"member-insert--heading",children:"Insert Member"}),(0,i.jsx)("div",{className:"member-insert--form",children:(0,i.jsxs)("div",{className:"member-insert--form",children:[(0,i.jsx)("h4",{className:"member-insert--heading",children:"Basic Information:"}),(0,i.jsx)(c.Z,{id:"fullName",isRequired:!0,label:"Fullname",placeholder:"eg. Naran Neu..",name:"fullName",onChange:g,defaultValue:v.fullName,error:b.fullName}),(0,i.jsx)(c.Z,{id:"address",isRequired:!0,label:"Address",placeholder:"eg. Kathmandu, Nepal..",name:"address",onChange:g,defaultValue:v.address,error:b.address}),(0,i.jsx)(c.Z,{id:"phone",isRequired:!0,label:"Phone",placeholder:"eg. 98XXXXXX..",name:"phone",onChange:g,defaultValue:v.phone,error:b.phone,instruction:"* Please note this number will be used to identify the member and cannot be changed afterwards."})]})},N),(0,i.jsx)("div",{className:"member-insert--actions",children:(0,i.jsx)(d.Z,{label:"Save",type:"primary",onClick:y,style:{minWidth:"13rem"}})})]})}),f?(0,i.jsx)(u.Z,{cancel:y,confirm:()=>{x(e=>{t((0,s.Di)({data:e,callback:()=>{y(),j(),(0,l.Qm)("Member inserted")}}))})},title:"Confirm Insert",message:"Are you sure you want to add this item to list?"}):null]})}},3467:function(e,n,t){"use strict";t.d(n,{G5:function(){return stringField},v3:function(){return positiveNumberString}});var i=t(195);let positiveNumberString=e=>i.z.string().refine(e=>!isNaN(parseFloat(e)),{message:"".concat(e," must be a positive number.")}),stringField=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2?arguments[2]:void 0;return i.z.string({required_error:"".concat(e," is required"),invalid_type_error:"Provide valid type"}).min(n,{message:"".concat(e," is too short")}).refine(e=>!t||e.length<=t,"".concat(e," is too long"))};i.z.string({invalid_type_error:"Provide valid type"}).optional().nullable(),i.z.number({invalid_type_error:"Provide valid type"}).optional().nullable(),i.z.boolean({invalid_type_error:"Provide valid type"}).optional().nullable(),i.z.string().refine(e=>!e||!isNaN(+e),{message:"Field must be a positive integer."}).optional()},7613:function(e,n,t){"use strict";t.d(n,{Nw:function(){return l},pN:function(){return a}});var i=t(195),r=t(3467);let l=i.z.object({id:(0,r.G5)("ID"),phone:(0,r.G5)("Phone",10,10),fullName:(0,r.G5)("FullName"),address:(0,r.G5)("Address"),inserted:(0,r.G5)("Inserted"),updated:(0,r.G5)("Updated")}),a=l.omit({id:!0,inserted:!0,updated:!0});l.pick({id:!0})},590:function(e,n,t){"use strict";t.d(n,{Z:function(){return UIButton}});var i=t(2322),r=t(9097),l=t.n(r);function UIButton(e){let{href:n,id:t,label:r,onClick:a,style:s,type:o,className:d,target:u}=e;return n?(0,i.jsx)(l(),{id:t,href:n,className:"btn btn-".concat(o||"link"),style:s,target:u,children:r}):(0,i.jsx)("button",{id:t,className:"btn btn-".concat(o||"plain"," ").concat(d||""),style:s,onClick:a,children:r})}},725:function(e,n,t){"use strict";t.d(n,{Z:function(){return UIDialogBox}});var i=t(2322),r=t(590),l=t(1383);function UIDialogBox(e){let{cancel:n,confirm:t,message:a,title:s,cancelName:o,confirmName:d}=e;return(0,i.jsx)(l.Z,{onClose:n,showAnimation:!0,children:(0,i.jsxs)("div",{className:"dialogbox",children:[(0,i.jsx)("h2",{className:"dialogbox-heading",children:s}),(0,i.jsx)("p",{className:"dialogbox-message",children:a}),(0,i.jsxs)("div",{className:"dialogbox-actions",children:[(0,i.jsx)(r.Z,{label:null!=d?d:"Confirm",type:"primary",className:"dialogbox-actions--btn",onClick:t}),(0,i.jsx)(r.Z,{label:null!=o?o:"Cancel",type:"error",className:"dialogbox-actions--btn cancel duotone",onClick:n})]})]})})}},570:function(e,n,t){"use strict";t.d(n,{Z:function(){return UIInput}});var i=t(2322),r=t(2784);function UIInput(e){let{id:n,label:t,name:l,isRequired:a,placeholder:s,type:o,style:d,onClick:u,onChange:c,onBlur:m,error:h,defaultValue:f,instruction:p,disabled:b,autoComplete:v,max:N,min:g}=e,[x,j]=(0,r.useState)(!1);return(0,i.jsxs)("div",{className:"inputfield",style:d,children:[t?(0,i.jsxs)("label",{htmlFor:n||"",className:"inputfield-label",children:[t," ",a?"*":""]}):null,(0,i.jsx)("input",{type:"password"===o?x?"text":"password":o,id:n,name:l,className:"inputfield-input ".concat(h?"error":""),placeholder:s,onClick:u,onChange:c,onBlur:m,defaultValue:null!=f?f:"",required:a,disabled:b,autoComplete:null!=v?v:l,min:g,max:N}),h?(0,i.jsx)("span",{className:"inputfield-error",children:h}):null,"password"===o?(0,i.jsx)("i",{className:"fa-regular fa-eye".concat(x?"":"-slash"),onClick:()=>j(e=>!e),style:{bottom:t&&!h?"35%":!t&&h?"65%":"50%"}}):null,p?(0,i.jsx)("p",{className:"inputfield-instruction",children:p}):null]})}},1383:function(e,n,t){"use strict";t.d(n,{Z:function(){return UIModal}});var i=t(2322),r=t(2784);function UIModal(e){let{children:n,onClose:t,style:l,showAnimation:a}=e,s=(0,r.useRef)(null);return(0,i.jsxs)("div",{className:"uimodal",children:[(0,i.jsx)("div",{className:"uimodal-overlay"}),(0,i.jsxs)("div",{className:"uimodal-content",style:l,ref:s,children:[(0,i.jsx)("div",{className:"uimodal-content--cross",onClick:()=>{var e;if(!a)return null==t?void 0:t();null===(e=s.current)||void 0===e||e.classList.add("hide"),setTimeout(()=>null==t?void 0:t(),700)},children:(0,i.jsx)("i",{className:"fa-regular fa-times"})}),n]})]})}}},function(e){e.O(0,[97,774,888,179],function(){return e(e.s=4264)}),_N_E=e.O()}]);
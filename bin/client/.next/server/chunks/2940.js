"use strict";exports.id=2940,exports.ids=[2940],exports.modules={2940:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>SalesHistoryTable});var l=t(997),n=t(3401),r=t(7965),i=t(7813),d=t(5053),m=t(7945),c=t(9091),o=t(9661),u=e([r,i,d]);[r,i,d]=u.then?(await u)():u;let h=[{name:"date",display:"Date"},{name:"type",display:"Payment Type"},{name:"amount",display:"Amount"},{name:"discount",display:"Discount"},{name:"member",display:"Member Details"},{name:"items",display:"Details"},{name:"entryDate",display:"Entry Date"}];function SalesHistoryTable({data:e,onClose:s}){let t=(0,i.TL)(),a=(0,i.CG)(e=>e.sales),handleItems=e=>{e?t((0,d.iz)(e.id)):t((0,r.U7)(null))};return(0,l.jsxs)(l.Fragment,{children:[l.jsx(c.Z,{onClose:s,children:(0,l.jsxs)("div",{className:"sales-insert",children:[l.jsx("h2",{className:"sales-insert--heading",children:"Sales Details"}),l.jsx(n.Z,{headings:h,exportSchema:["date","type","amount","discount","member","remark","entryDate"],rawData:e.map((e,s)=>({date:{value:new Date(e.date).toUTCString()},type:{value:e.type},amount:{value:"Rs."+e.amount},discount:{value:"Rs."+e.discount},items:{value:e.id,display:l.jsx(m.Z,{label:"View Items",type:"primary",onClick:()=>handleItems(e)})},member:{value:e.member?.fullName??"N/A"},remark:{value:e.remark??"N/A"},entryDate:{value:new Date(e.inserted).toUTCString()}}))}),l.jsx("br",{}),l.jsx("table",{className:"product-stock--grid",width:"40%",children:(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Summery:"}),l.jsx("td",{})]}),(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Total Transactions"}),l.jsx("td",{children:e.length})]}),(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Sub Total"}),(0,l.jsxs)("td",{children:["Rs.",e.reduce((e,s)=>e=+e+ +s.amount,0)]})]}),(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Total Discount"}),(0,l.jsxs)("td",{children:["Rs.",e.reduce((e,s)=>e=+e+ +s.discount,0)]})]}),(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Total Amount"}),(0,l.jsxs)("td",{children:["Rs.",e.reduce((e,s)=>e=+e+(+s.amount-+s.discount),0)]})]})]})})]})}),a.items?l.jsx(o.default,{data:a.items,onClose:()=>handleItems()}):null]})}a()}catch(e){a(e)}})}};